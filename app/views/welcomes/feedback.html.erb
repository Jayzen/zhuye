<% provide(:title, @show_user.basic.name) %>
<div class="mb-2">
  <%= render 'shared/show_middle' %>
</div>
<div class="row">
  <% if @basic_contact == "left" %>
    <div class="col-md-3"><%= render 'shared/contact' %></div>
  <% end -%>
  <div class="<%= @basic_contact == '' ? 'col-md-12' : 'col-md-9' %>">
    <%= form_with(model: @feedback, local: true) do |form| %>
      <div class="form-group">
        <%= form.text_field :name, placeholder: "联系方式, 手机号码或邮箱", class: "form-control #{'is-invalid' if has_error?(@feedback, :name)}" %>
        <% if has_error?(@feedback, :name) %>
          <div class="invalid-feedback d-block"><%= get_error(@feedback, :name) %></div>
        <% end -%>
      </div>

      <div class="form-group">
        <%= form.text_area :content, placeholder: "评论内容", rows: "5", class: "form-control #{'is-invalid' if has_error?(@feedback, :content)}" %>
        <% if has_error?(@feedback, :content) %>
          <div class="invalid-feedback d-block"><%= get_error(@feedback, :content) %></div>
        <% end -%>
      </div>

      <div class="form-group d-flex <%= @contact == 'right' ? '' : 'flex-row-reverse' %>">
        <%= form.submit "创建评论", class: "btn btn-primary" %>
      </div>
    <% end -%> 
  </div>
  <% if @basic_contact == "right" %>
    <div class="col-md-3"><%= render 'shared/contact' %></div>
  <% end -%>
</div>
